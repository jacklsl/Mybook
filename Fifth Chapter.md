# 5 游戏详细设计

本章将采用面向对象的思想进行游戏的框架设计，并详细阐述游戏界面和各个功能模块的设计思路，为游戏的实现做好充分的准备工作。

## 5.1 游戏框架设计

本游戏按照一定的模式进行架构，通过Gameplay框架架构“极速跑酷”。一个游戏由GameMode和GameState构成。加入游戏的人类玩家同PlayerController相关联。

图5–1极速跑酷游戏的游戏框架方案

## 5.2 游戏声音的设计

游戏中的声音可以增加游戏趣味性，极速跑酷游戏中的声音效果可以分为三类。首先当用户点击开始游戏的按钮进入游戏操作界面时，要有背景音乐的循环播放，直到游戏退出。

## 5.3 游戏核心程序的设计

游戏的核心程序的设计包括：人物程序的设计；宠物程序的设计；关卡程序的设计。其中人物程序控制人物行为，宠物程序控制宠物伴随，关卡程序创建关卡。

### 5.3.1 人物程序设计

人物的控制是通过战斗界面的点击，进行实现人物的一段跳和二段跳以及侧滑。点击“跳跃”控制人物的。游戏通过输入事件进行事件的触发。

图5–2极速跑酷游戏的人物程序流程图

### 5.3.2 宠物程序设计

（1）宠物的核心功能在于伴随人物行动，程序通过Tick事件根据不同的状态设置宠物的不同位置。

图5–3极速跑酷游戏的宠物伴随行动流程图

\(2\) 程序通过Tick事件进行触发，使叶子移动到宠物的位置。

图5–4极速跑酷游戏的叶子移动到宠物位置流程图

### 5.3.3 关卡程序设计

\(1\)关卡程序主要负责关卡背景和地板的产生。通过触发装置产生地板和背景。

图5–5极速跑酷游戏的关卡的产生流程图

\(2\) 关卡的移动根据移动的组件的速度,由右向左进行移动。

图5–6极速跑酷游戏的关卡移动流程图

## 5.4 游戏界面的设计

游戏界面是用户与本游戏交互的桥梁，漂亮的界面效果定会赢得用户的赞赏并提升游戏自身的价值。根据之前的界面要求，结合游戏功能在各类界面中的功能体现，可以做出如下的界面设计。

\(1\)欢迎界面：如图5–7所示，欢迎界面是由一段视频的播放来实现欢迎用户的。

\(2\)游戏登录：如图5–8所示，游戏登录界面有多部分组成。界面顶部中间，为人物的头像。其左右两边，共同组成了“极速跑酷”的字样。人物的头像下方，通过星星的标记对用户的等级进行标记。界面中间，是用户名和密码的输入。界面的底部，是游戏的“登录”按钮和“注册”按钮。“登录”按钮上方，为游戏的自动登。

\(3\)注册界面：如图5–9所示，界面顶部显示“注册”字样。右上方。为游戏的“关闭”按钮。界面中间，为注册游戏需要的信息。他们的两边，为宠物动画。地步为“注册”按钮。

\(4\)主界面：如图5–10所示，有四个按钮组成。“设置游戏”，“关于游戏”，“退出游戏”，“开始游戏”

\(5\)游戏设置界面：如图5–11所示，主要设置游戏声音和昵称等。

\(6\)关于游戏界面：如图5–12所示，主要介绍游戏的规则。

\(7\)战斗界面：如图5–13所示，与人物进行交互操作，并显示数量，分数，时间等信息。

\(8\)结束界面：如图5–14所示，当游戏完成时显示。

### 5.4.1 游戏欢迎界面

本游戏开始运行时，第一个界面就是欢迎界面，欢迎界面是一段Logo的视频。

图5–7极速跑酷游戏的欢迎界面

### 5.4.2 登录界面

本游戏为用户提供了一个登录界面，该界面需要用户输入用户名和密码进行登录。

图5–8极速跑酷游戏的登录界面

### 5.4.3 注册界面

点击登录界面的“注册”按钮界面跳转的注册界面，将注册的信息进行存储。

图5–9极速跑酷游戏的注册界面

### 5.4.4 主菜单界面

在欢迎界面的logo动画之后显示本游戏的主菜单界面。

图5–10极速跑酷游戏的主界面

### 5.4.5 游戏设置界面

对游戏的界面主要对游戏的声音和昵称记性设置。

图5–11极速跑酷游戏的设置界面

### 5.4.6 关于游戏界面

本游戏界面最要介绍游戏的规则。

图5–12极速跑酷游戏的关于游戏界面

### 5.4.7 游戏战斗界面

游戏战斗界面，与人物进行交互操作，并显示数量，分数，时间等信息。

图5–13极速跑酷游戏的登录界面

### 5.4.8 游戏结束界面

当游戏成功时，出现该界面。

图5–14极速跑酷游戏的胜利界面

## 5.5 本章小结

本章是本论文的核心部分，首先根据之前的需求分析和总体设计，采用Gameplay框架方法对极速跑酷游戏的框架进行了设计。接着阐述了游戏界面的详细设计内容，给出了各个界面的布局示意图。然后按照之前的功能模块划分，详细描述了各个模块的设计过程。其中游戏核心程序是论文的核心技术，因此在本章编写中绘制了大量相关的图形、流程图，以及引用了多张图片，并进行了必要的文字说明，以便于读者理解本章中的设计思想。

